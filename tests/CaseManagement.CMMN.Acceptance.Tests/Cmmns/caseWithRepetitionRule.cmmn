<?xml version="1.0" encoding="UTF-8"?>
<cmmn:definitions xmlns:dc="http://www.omg.org/spec/CMMN/20151109/DC" xmlns:cmmndi="http://www.omg.org/spec/CMMN/20151109/CMMNDI" xmlns:cmmn="http://www.omg.org/spec/CMMN/20151109/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/CMMN/20151109/DI" xmlns:case="https://github.com/simpleidserver/CaseManagement" id="caseWithRepetitionRule" targetNamespace="http://bpmn.io/schema/cmmn" exporter="cmmn-js (https://demo.bpmn.io/cmmn)" exporterVersion="0.19.2">
  <cmmn:case id="testCase" name="Case with repetition rule">
    <cmmn:casePlanModel id="CasePlanModel_1" name="Send email for each client">
      <cmmn:planItem id="PlanItem_0dr13cy" definitionRef="ProcessTask_02soh5j">
        <cmmn:itemControl id="PlanItemControl_1x0bhuw">
          <cmmn:repetitionRule id="RepetitionRule_1e8pxww" />
        </cmmn:itemControl>
        <cmmn:entryCriterion id="EntryCriterion_1wciyvk" sentryRef="Sentry_09smshl" />
      </cmmn:planItem>
      <cmmn:planItem id="PlanItem_0hg1xp5" definitionRef="ProcessTask_1e6qnzx">
        <cmmn:itemControl id="PlanItemControl_1asudwt">
          <cmmn:repetitionRule id="RepetitionRule_0i2rejo">
            <cmmn:condition>context.GetNumberVariable("nbClients") &lt; 10</cmmn:condition>
          </cmmn:repetitionRule>
        </cmmn:itemControl>
      </cmmn:planItem>
      <cmmn:planItem id="PlanItem_1v556ce" definitionRef="ProcessTask_188pppa">
        <cmmn:itemControl id="PlanItemControl_0n3fuxz">
          <cmmn:repetitionRule id="RepetitionRule_0uowp7w" />
        </cmmn:itemControl>
        <cmmn:entryCriterion id="EntryCriterion_16fong7" sentryRef="Sentry_0uz77di" />
      </cmmn:planItem>
      <cmmn:planItem id="PlanItem_1yr5fqf" definitionRef="ProcessTask_0ik4byb">
        <cmmn:itemControl id="PlanItemControl_0rfspfm">
          <cmmn:repetitionRule id="RepetitionRule_0cngq3j">
            <cmmn:condition>context.GetNumberVariable("nbClients") &gt; 8</cmmn:condition>
          </cmmn:repetitionRule>
        </cmmn:itemControl>
        <cmmn:entryCriterion id="EntryCriterion_0z91wux" sentryRef="Sentry_0hswzv6" />
      </cmmn:planItem>
      <cmmn:sentry id="Sentry_09smshl">
        <cmmn:planItemOnPart id="PlanItemOnPart_0c5ikol" sourceRef="PlanItem_0hg1xp5">
          <cmmn:standardEvent>complete</cmmn:standardEvent>
        </cmmn:planItemOnPart>
      </cmmn:sentry>
      <cmmn:sentry id="Sentry_0uz77di">
        <cmmn:planItemOnPart id="PlanItemOnPart_0oqsxaj" sourceRef="PlanItem_0dr13cy">
          <cmmn:standardEvent>complete</cmmn:standardEvent>
        </cmmn:planItemOnPart>
      </cmmn:sentry>
      <cmmn:sentry id="Sentry_0hswzv6">
        <cmmn:planItemOnPart id="PlanItemOnPart_1nveb8l" sourceRef="PlanItem_1v556ce">
          <cmmn:standardEvent>complete</cmmn:standardEvent>
        </cmmn:planItemOnPart>
      </cmmn:sentry>
      <cmmn:processTask id="ProcessTask_0ik4byb" name="Send email" processRef="caseWithRepetitionRule_sendEmail" />
      <cmmn:processTask id="ProcessTask_188pppa" name="Send email" processRef="caseWithRepetitionRule_sendEmail" />
      <cmmn:processTask id="ProcessTask_02soh5j" name="Send email" processRef="caseWithRepetitionRule_sendEmail" />
      <cmmn:processTask id="ProcessTask_1e6qnzx" name="Get clients" processRef="caseWithRepetitionRule_countClients">
        <cmmn:parameterMapping sourceRef="nbClients" targetRef="nbClients" />
      </cmmn:processTask>
    </cmmn:casePlanModel>
  </cmmn:case>
  <cmmndi:CMMNDI>
    <cmmndi:CMMNDiagram id="CMMNDiagram_1">
      <cmmndi:Size width="500" height="500" />
      <cmmndi:CMMNShape id="DI_CasePlanModel_1" cmmnElementRef="CasePlanModel_1">
        <dc:Bounds x="197" y="99" width="765" height="319" />
        <cmmndi:CMMNLabel />
      </cmmndi:CMMNShape>
      <cmmndi:CMMNShape id="PlanItem_1g5z3yd_di" cmmnElementRef="PlanItem_0dr13cy">
        <dc:Bounds x="511" y="130" width="100" height="80" />
        <cmmndi:CMMNLabel />
      </cmmndi:CMMNShape>
      <cmmndi:CMMNShape id="EntryCriterion_1wciyvk_di" cmmnElementRef="EntryCriterion_1wciyvk">
        <dc:Bounds x="501" y="156" width="20" height="28" />
        <cmmndi:CMMNLabel />
      </cmmndi:CMMNShape>
      <cmmndi:CMMNShape id="PlanItem_0u7oyq7_di" cmmnElementRef="PlanItem_0hg1xp5">
        <dc:Bounds x="235" y="130" width="100" height="80" />
        <cmmndi:CMMNLabel />
      </cmmndi:CMMNShape>
      <cmmndi:CMMNEdge id="PlanItemOnPart_0c5ikol_di" cmmnElementRef="PlanItemOnPart_0c5ikol" targetCMMNElementRef="EntryCriterion_1wciyvk" isStandardEventVisible="true">
        <di:waypoint x="335" y="170" />
        <di:waypoint x="418" y="170" />
        <di:waypoint x="418" y="170" />
        <di:waypoint x="501" y="170" />
        <cmmndi:CMMNLabel>
          <dc:Bounds x="392" y="182" width="51" height="12" />
        </cmmndi:CMMNLabel>
      </cmmndi:CMMNEdge>
      <cmmndi:CMMNShape id="EntryCriterion_16fong7_di" cmmnElementRef="EntryCriterion_16fong7">
        <dc:Bounds x="815" y="157" width="20" height="28" />
        <cmmndi:CMMNLabel />
      </cmmndi:CMMNShape>
      <cmmndi:CMMNEdge id="PlanItemOnPart_0oqsxaj_di" cmmnElementRef="PlanItemOnPart_0oqsxaj" targetCMMNElementRef="EntryCriterion_16fong7" isStandardEventVisible="true">
        <di:waypoint x="611" y="170" />
        <di:waypoint x="718" y="170" />
        <di:waypoint x="718" y="171" />
        <di:waypoint x="815" y="171" />
        <cmmndi:CMMNLabel>
          <dc:Bounds x="692" y="182" width="51" height="12" />
        </cmmndi:CMMNLabel>
      </cmmndi:CMMNEdge>
      <cmmndi:CMMNShape id="PlanItem_1sik3wu_di" cmmnElementRef="PlanItem_1v556ce">
        <dc:Bounds x="825" y="130" width="100" height="80" />
        <cmmndi:CMMNLabel />
      </cmmndi:CMMNShape>
      <cmmndi:CMMNShape id="EntryCriterion_0z91wux_di" cmmnElementRef="EntryCriterion_0z91wux">
        <dc:Bounds x="601" y="314" width="20" height="28" />
        <cmmndi:CMMNLabel />
      </cmmndi:CMMNShape>
      <cmmndi:CMMNEdge id="PlanItemOnPart_1nveb8l_di" cmmnElementRef="PlanItemOnPart_1nveb8l" targetCMMNElementRef="EntryCriterion_0z91wux" isStandardEventVisible="true">
        <di:waypoint x="875" y="210" />
        <di:waypoint x="875" y="328" />
        <di:waypoint x="621" y="328" />
        <cmmndi:CMMNLabel>
          <dc:Bounds x="711" y="306.5" width="51" height="12" />
        </cmmndi:CMMNLabel>
      </cmmndi:CMMNEdge>
      <cmmndi:CMMNShape id="PlanItem_1hh6m91_di" cmmnElementRef="PlanItem_1yr5fqf">
        <dc:Bounds x="511" y="289" width="100" height="80" />
        <cmmndi:CMMNLabel />
      </cmmndi:CMMNShape>
    </cmmndi:CMMNDiagram>
  </cmmndi:CMMNDI>
</cmmn:definitions>
